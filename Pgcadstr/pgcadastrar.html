<!DOCTYPE html>
<html lang="pt_BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="cadstr.css">
    <title>Cadastrar</title>
    <script type="text/javascript" src="https://npmcdn.com/parse/dist/parse.min.js"></script>
</head>
<script
      type="text/javascript"
      src="https://npmcdn.com/parse/dist/parse.min.js"
    ></script>
  </head>
  <body>
    <div class="main-cdst">
        <div class="left-cdst">
            <h1>Faça seu cadastro<br>E entre para nosso time</h1>
            <img class="img" src="fitness-animate.svg" alt="Fitness">
            <a class="btn-cdst" href="../index.html"><button>Voltar ao inicio</button></a>
        </div>
        <div class="right-cdst">
            <div class="card-cdst">
            <h1>CADASTRO</h1>
            
              <div class="textfield">
                <input type="text" name="usuario" placeholder="Usuário" required>
              </div>
              <div class="textfield">
                <input type="text" name="email" placeholder="Email" required>
              </div>
              <div class="textfield">
                <input type="password" name="senha" placeholder="Senha" required> 
              </div>
              <div class="textfield">
                <input type="text" name="telefone" placeholder="Telefone" required>
              </div>
              <div class="textfield">
                <input type="date" name="data_nasc" required>
              </div>
            
            <a class="btn-cdst" href="../Pghome/pghome.html"><button>Cadastrar</button></a>
         </div>
         
         <script>
          function cadastrar(){
            var usuario = document.getElementById('usuario').value;
            var email = document.getElementById('email').value;
            var senha = document.getElementById('senha').value;
            var telefone = document.getElementById('telefone').value;
            var data_nasc = document.getElementById('data_nasc').value;
          }
         </script>
            
  

    <script>   
      Parse.initialize("YGE81sqQFDDvJ2AeZPCvcRTuElr7gPNcVbj7Dw8v", "0Z2YNoILwSnbzZGfROL7lXCsjTGNVdNn9yxgjmhR");
      Parse.serverURL = "https://parseapi.back4app.com/";

      let  btnCad = document.getElementById('createButton');
      console.log(btnCad);

      btnCad.onclick = function(){
          cadastrarUsuario();
      }

      const cadastrarUsuario = async () => {
      const cdstc = new Parse.Object('Cdstc');
        cdstc.set('nome', document.getElementsByName('usuario')[0].value );
        cdstc.set('email',    document.getElementsByName('email')[0].value);
        cdstc.set('telefone', document.getElementsByName('telefone')[0].value);
        cdstc.set('password', document.getElementsByName('senha')[0].value);
        cdstc.set('data_nasc', document.getElementsByName('data_nasc')[0].value);
        try {
          const result = await cdstc.save();
          // Access the Parse Object attributes using the .GET method
          console.log('Cdstc created', result);
        } catch (error) {
          console.error('Error while creating Cdstc: ', error);
        }
      }

    </script>
  </body>
</html>